#include <stdio.h>
#include<stdlib.h>
#include <locale.h>
#define N 20

int quantidade, quantidadeII, quantidadeIII;
char filme[N], filmeII[N], filmeIII[N], FilmePesquisado[N];

void Menu() {
    printf("**--------------- Bem vindo ao menu do nosso catálogo de filmes ---------------**\n\n 1 - Entrada de dados\n 2 - Lista todos os dados na tela\n 3 - Pesquisa um filme pelo nome completo e mostra todos os dados na tela\n 4 - Pesquisar os filmes pela 1° letra\n 5 - Altera dados\n 6 - Exclui dados\n 7 - Saída");
        printf("\n\nDigite a opção que deseja: ");
}

void Entrada(){

    printf("\nDigite o nome do 1° filme: ");
    scanf("%49[^\n]",&filme);
    getchar();
    printf("Digite a quantidade disponível dele: ");
    do{
        scanf("%d",&quantidade);
        getchar();
        if(quantidade<1)
            printf("Digite um valor válido: ");
    }while(quantidade<1);

    printf("\nDigite o nome do 2° filme : ");
    scanf("%49[^\n]",&filmeII);
    getchar();
    printf("Digite a quantidade disponível dele: ");
    do{
        scanf("%d",&quantidadeII);
        getchar();
        if(quantidadeII<1)
            printf("Digite um valor válido: ");
    }while(quantidadeII<1);

    printf("\nDigite o nome do 3° filme: ");
    scanf("%49[^\n]",&filmeIII);
    getchar();
    printf("Digite a quantidade disponível dele: ");
    do{
        scanf("%d",&quantidadeIII);
        getchar();
        if(quantidadeIII<1)
                printf("Digite um valor válido: ");
    }while(quantidadeIII<1);
    system("pause");
}

void Listagem() {

    if(filme[0]=='*' && filmeII[0]=='*' && filmeIII[0]=='*') {
        printf("Não há filmes para mostrar!!!\n\n");
        system("pause");
    }
    else {
        if(filme[0]!='*')
            printf("O Filme %s tem %d volumes disponíveis.\n",filme, quantidade);

        if(filmeII[0]!='*')
            printf("O Filme %s tem %d volumes disponíveis.\n",filmeII, quantidadeII);

        if(filmeIII[0]!='*')
            printf("O Filme %s tem %d volumes disponíveis.\n",filmeIII, quantidadeIII);
        system("pause");
    }
}

void Pesquisa() {
    char Resposta;
    int x, cont = 0;

     if(filme[0]=='*' && filmeII[0]=='*' && filmeIII[0]=='*') {
        printf("Não há filmes para pesquisar!\n\n");
        system("pause");
    }

    else {
        printf("\nDigite o nome do filme que deseja consultar: ");
        scanf("%49[^\n]",&FilmePesquisado);
        getchar();

        for(x=0;FilmePesquisado[x]!='\0';x++)
            if(FilmePesquisado[x]!= filme[x])
                break;
        if(FilmePesquisado[x]=='\0' && filme[x]=='\0') {
                printf("O filme %s tem %d volumes em estoque\n",filme,quantidade);
                cont++;
        }

        for(x=0;FilmePesquisado[x]!='\0';x++)
            if(FilmePesquisado[x]!= filmeII[x])
                break;
        if(FilmePesquisado[x]=='\0' && filmeII[x]=='\0') {
                printf("O filme %s tem %d volumes em estoque\n",filmeII,quantidadeII);
                cont++;
            }

        for(x=0;FilmePesquisado[x]!='\0';x++)
            if(FilmePesquisado[x]!= filmeIII[x])
                break;
        if(FilmePesquisado[x]=='\0' && filmeIII[x]=='\0') {
                printf("O filme %s tem %d volumes em estoque\n",filmeIII,quantidadeIII);
                cont++;
            }

        if(cont==0)
            printf("\nO filme '%s' não está cadastrado\n",FilmePesquisado);
    }
}

void Letra(Letra) {
    char LetraPesquisada;

     if(filme[0]=='*' && filmeII[0]=='*' && filmeIII[0]=='*') {
        printf("Não há filmes para pesquisar!!!\n\n");
        system("pause");
    }

    else {
        printf("\nDigite a inicial do filme que deseja colsultar: ");
        scanf("%c",&LetraPesquisada);
        getchar();
        if(LetraPesquisada == filme[0])
            printf("\nO filme %s tem %d volumes disponíveis\n",filme,quantidade);
        if(LetraPesquisada == filmeII[0])
            printf("\nO filme %s tem %d volumes disponíveis\n",filmeII,quantidadeII);
        if(LetraPesquisada == filmeIII[0])
            printf("\nO filme %s tem %d volumes disponíveis\n",filmeIII,quantidadeIII);

        if(LetraPesquisada != filme[0] && LetraPesquisada != filmeII[0] && LetraPesquisada != filmeIII[0])
            printf("Não há filmes com essa inicial em nosso catálogo!\n");
    }
}

void AlteraDados() {
    char Resposta;

     if(filme[0]=='*' && filmeII[0]=='*' && filmeIII[0]=='*') {
        printf("Não há dados para alterar!\n\n");
        system("pause");
    }
    else {} {
        Pesquisa();
        for(x=0;FilmePesquisado[x]!='\0';x++)
            if(FilmePesquisado[x]!= filme[x])
                break;
        if(FilmePesquisado[x]=='\0' && filme[x]=='\0') {
                printf("Digite o novo filme: ");
                scanf("%s",&filme);
                getchar();
                printf("Digite a quantidade dele disnonível em estoque: ");
                scanf("%d",&quantidade)
                getchar();

        }
    }

}

void ExluiDados() {

     if(filme[0]=='*' && filmeII[0]=='*' && filmeIII[0]=='*') {
        printf("Não há filmes para excluir!!!n\n");
        system("pause");
    }
    else {
        Pesquisa();
        system("pause");
    }
}
void Saida() {
    printf("Fechando o menu...\n\n");
    exit(0);
}

int main(){
    setlocale(LC_ALL,"");
    int Resposta, x;

    filme[0] = '*';
    filmeII[0] = '*';
    filmeIII[0] = '*';

    for(x =0;;x++) {
        system("cls");
        Menu();
        do {
            scanf("%d",&Resposta);
            getchar();
            if(Resposta>7 || Resposta<1)
                printf("Digite um valor válido: ");
        }while(Resposta>7 || Resposta<1);
        system("cls");

        switch(Resposta) {
            case 1: //entrada de dados
                Entrada();
            break;

            case 2: //lista tudo que tem
                Listagem();
            break;

            case 3: //Pesquisa pelo nome completo
                do{
                    Pesquisa();
                    printf("\nDigite S para pesquisar outro filme pelo nome: ");
                    scanf("%c",&Resposta);
                    system("cls");
                }while(Resposta =='s'||Resposta=='S');
            break;

            case 4: //Pesquisa pela inicial
                do{
                    Letra();
                    printf("\nDeseja pesquisar outro filme pela inical? (Digite 's' caso queira): ");
                    scanf("%c",&Resposta);
                    getchar();
                    system("cls");
                }while(Resposta =='s' || Resposta == 'S');
            break;

            case 5: //ALtera dados de 1 dos filmes
                AlteraDados();
            break;

            case 6: //exclui dados de 1 dos filmes
                do {
                ExluiDados();
                    printf("\nDigite S para excluir outro dado: ");
                    scanf("%c",&Resposta);
                    system("cls");
                }while(Resposta =='s'||Resposta=='S');
                break;

            case 7: //sai
                Saida();
            break;
        }
    }
return 0;
}
